# MCP Registry Configuration
# Controls how the centralized registry manages servers and tools

# Test mode - when enabled, all tool responses are faked with reasonable-looking content
# Useful for development and testing without running actual scans
test_mode: true

# Context budget (in estimated tokens)
# Higher = more tools loaded simultaneously
# Lower = more aggressive eviction
context_budget: 12000

# Automatic eviction when context budget exceeded
auto_evict: true

# Lazy loading - only load servers when needed
lazy_load: true

# Server definitions
# Each server can be customized with priority and category
servers:
  # === Security/Recon Servers ===
  network:
    module: recon_network.py
    description: "Network reconnaissance - IP/port scanning, service detection, traceroute"
    category: recon
    priority: 7

  subdomain:
    module: recon_subdomain.py
    description: "Subdomain enumeration - DNS lookups, CT logs, zone transfers"
    category: recon
    priority: 6

  web:
    module: recon_web.py
    description: "Web reconnaissance - directory enumeration, tech detection, headers"
    category: recon
    priority: 7

  osint:
    module: recon_osint.py
    description: "OSINT - email harvesting, username search, social media"
    category: recon
    priority: 5

  evasion:
    module: payload_evasion.py
    description: "Payload encoding and evasion testing"
    category: payload
    priority: 4

  control:
    module: agent_control.py
    description: "Agent control - system prompt mutation, refusal detection"
    category: control
    priority: 8

  # === Development Servers ===
  terminal:
    module: terminal_server.py
    description: "Shell execution - commands, background processes, environment"
    category: dev
    priority: 9  # High priority - core development tool

  filesystem:
    module: filesystem_server.py
    description: "File operations - read, write, edit, search, glob"
    category: dev
    priority: 9

  packages:
    module: package_server.py
    description: "Package management - uv, pip, npm, virtual environments"
    category: dev
    priority: 7

  code:
    module: code_server.py
    description: "Code tools - templates, formatting, linting, imports"
    category: dev
    priority: 8

  git:
    module: git_server.py
    description: "Version control - status, diff, commit, push, branches"
    category: dev
    priority: 8

  project:
    module: project_server.py
    description: "Project scaffolding - templates, build, test, docker"
    category: dev
    priority: 6

  # === Advanced Security Servers ===
  vuln:
    module: vuln_scanner.py
    description: "Vulnerability scanning - nuclei, CVE lookup, exploit search"
    category: security
    priority: 8

  cloud:
    module: cloud_recon.py
    description: "Cloud recon - S3/Azure/GCP enumeration, misconfig detection"
    category: recon
    priority: 7

  crypto:
    module: crypto_server.py
    description: "Crypto tools - hash cracking, JWT manipulation, credentials"
    category: security
    priority: 6

  ssh:
    module: ssh_bruteforce.py
    description: "SSH brute force - credential stuffing, password testing"
    category: security
    priority: 7

  creds:
    module: credential_server.py
    description: "Credential server - serves credentials for stuffing attacks"
    category: security
    priority: 6

  c2:
    module: c2_callback.py
    description: "C2 callbacks - remote command execution via SSH"
    category: security
    priority: 8

  killchain:
    module: killchain_db.py
    description: "Kill chain database - central store for all findings"
    category: data
    priority: 9

  report:
    module: report_server.py
    description: "Report generation - findings aggregation, export formats"
    category: reporting
    priority: 5

  jina:
    module: jina_server.py
    description: "Jina AI - web search, fact checking, URL reading, OSINT"
    category: osint
    priority: 7

# Presets - named groups of servers for common tasks
presets:
  minimal:
    - terminal
    - filesystem

  dev_core:
    - terminal
    - filesystem
    - code
    - git

  dev_full:
    - terminal
    - filesystem
    - packages
    - code
    - git
    - project

  recon_minimal:
    - network
    - web

  recon_full:
    - network
    - subdomain
    - web
    - osint

  security:
    - network
    - subdomain
    - web
    - osint
    - evasion
    - control

  # New presets with advanced security servers
  security_full:
    - network
    - subdomain
    - web
    - osint
    - evasion
    - control
    - vuln
    - cloud
    - crypto
    - ssh
    - creds
    - c2
    - killchain
    - report
    - jina

  hackathon:
    - network
    - web
    - vuln
    - cloud
    - crypto
    - report
    - jina

  pentest:
    - network
    - subdomain
    - web
    - osint
    - vuln
    - cloud
    - crypto
    - ssh
    - creds
    - c2
    - killchain
    - report
    - jina

  all:
    - network
    - subdomain
    - web
    - osint
    - evasion
    - control
    - vuln
    - cloud
    - crypto
    - ssh
    - creds
    - c2
    - killchain
    - report
    - jina
    - terminal
    - filesystem
    - packages
    - code
    - git
    - project
